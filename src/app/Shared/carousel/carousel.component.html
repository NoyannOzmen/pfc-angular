<section id="animal-carousel" class="md:flex md:flex-row relative mx-auto h-auto w-[90%] bg-zoning rounded-lg shadow">

  <button
  class="absolute top-0 start-0 z-1 flex items-center justify-center h-full pl-2 cursor-pointer group focus:outline-none size-10 opacity-75"
  type="button" id="previous" aria-label="Précédent" tabindex="0">
    <img src="/icons/left.svg" alt="" (click)="getPrevious()" />
  </button>

  <div class="h-auto mx-auto rounded-lg p-4 md:w-auto md:flex md:my-6 md:gap-4 md:px-8">
    @for(animal of animalList; track $index) {
      <div [class]="isScreenWideEnough()" [class.hidden]="isFitting() ? $index > 2 : $index > 0">
        <div class="flex bg-fond rounded-lg shadow flex-col md:flex-col mx-auto my-2 w-[75%] p-4">
          <div class="w-full md:w-full flex justify-center items-center">
            @if ( animal.images_animal ) {
              @for(image of animal.images_animal; track $index) {
                <img class="object-contain md:h-full rounded-lg"
                [src]="image.url" alt="Photo de {{ animal.nom }}"/>
              }
            } @else {
              <img class="object-contain md:h-full rounded-lg" src="/images/animal_empty.webp" alt="Photo à venir" />
            }
          </div>

          <div class="flex-auto text-center">
            <div class="flex flex-wrap my-2">
              <h3 class="flex-auto text-xl font-semibold">{{ animal.nom }}</h3>
              <h4 class="flex-none w-full mt-2 text-sm font-medium">{{ animal.espece.nom }}</h4>
              <hr />
              <p class="flex-none w-full mt-2 text-sm font-medium">Age : {{ animal.age }}</p>
              <p class="flex-none w-full mt-2 text-sm font-medium">Localisation : {{ animal.refuge.code_postal }}</p>
            </div>

            <div class="flex mb-4 text-sm font-medium">
              <a class="py-2 px-4 bg-accents1-light text-fond w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg"
              [routerLink]="['/animaux/', animal.id]">Découvrir</a>
            </div>
          </div>
        </div>
      </div>
    }
  </div>

  <button
  class="absolute top-0 end-0 z-1 flex items-center justify-center h-full pr-2 cursor-pointer group focus:outline-none size-10 opacity-75"
  type="button" id="next" aria-label="Suivant" tabindex="0">
    <img src="/icons/right.svg" alt="" (click)="getNext()" />
  </button>

</section>
