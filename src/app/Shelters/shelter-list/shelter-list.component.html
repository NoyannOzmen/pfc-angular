<main class="justify-self-stretch flex-1">
  <!-- Menu de recherche -->
  <div class="md:my-3 flex flex-wrap font-body w-full bg-zoning rounded-lg shadow justify-around">
    <form class="text-texte justify-around">
      <div id="fullSearch" class="mx-2 col-span-3 items-center flex flex-wrap justify-around" [class.hidden]="!isHidden">
        <h2 class="font-grands text-2xl w-full my-2 text-center">Rechercher une association</h2>
        <label for="dpt-select-small">Par département</label>
        <select tabIndex={0} class="col-span-3 text-xs block w-[50%] bg-fond" id="dpt-select-small" name="dptSelectSmall" #filterDptSmall>
          <app-dpt-select></app-dpt-select>
        </select>
        <input tabIndex={0} id="deploy" class="w-[20%] col-span-1 my-1 py-2 px-2 bg-accents2-dark text-fond transition ease-in duration-200 text-center text-xs font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg" type="button" value="Filtres" (click)="toggleFilters()"/>
        <input tabIndex={0} class="w-1/3 col-span-1 mx-auto my-3 py-2 px-2 bg-accents1-light text-fond transition ease-in duration-200 text-center text-xs font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg" type="button" value="Rechercher" (click)="filterResultsSmall(filterDptSmall.value)"/>
      </div>

      <div id="searchCriterias" class="grid grid-cols-3 gap-1 mx-auto my-3 text-texte" [class.hidden]="isHidden">
        <h3 class="col-span-3 font-grands text-3xl text-center my-2">Rechercher une association</h3>
        <div class="col-span-1 mx-auto">
          <fieldset class="mx-auto p-2 my-2">
            <label for="shelter-nom">Nom du refuge</label>
            <input class="text-xs block bg-fond" type="text" id="shelter-nom" name="shelterNom" placeholder="--Entrez un nom--" #filterShelterName />
          </fieldset>
        </div>

        <div class="col-span-1">
          <fieldset class="mx-auto p-2 my-2">
            <legend>Animaux</legend>
              @for(espece of speciesList; track $index) {
                <div>
                  <label for={{espece.nom}}>{{ espece.nom }}</label>
                  <input onChange={handleCheck} type="checkbox" name="espece" id={{espece.nom}} value={{espece.nom}} #filterSpecies/>
                </div>
              }
          </fieldset>
        </div>

        <div class="col-span-1">
          <fieldset class="mx-auto p-2 my-2">
            <label for="dpt-select-full">Département</label>
            <select tabIndex={0} class="text-xs block bg-fond" id="dpt-select-full" name="dptSelectFull" #filterDptFull>
              <app-dpt-select></app-dpt-select>
            </select>
          </fieldset>
        </div>

        <input tabIndex={0} class="col-span-3 w-[60%] mx-auto my-3 py-2 px-4 bg-accents1-light text-fond transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg" type="button" value="Rechercher" (click)="filterResultsFull(filterShelterName.value, filterDptFull.value)"/>

      </div>
    </form>
  </div>

  <div class="flex flex-wrap content-center justify-around my-8">
    <section class="mx-auto w-[80%]">
      <h2 class="font-grands text-3xl text-center my-2">Nos partenaires</h2>
      <p class="mx-auto text-l font-body text-center">Pet Foster Connect a l'honneur de travailler main dans la main avec des refuges et associations de protection animale sur tout le territoire Français.
        <br />Retrouvez-les toutes ci-dessous. Vous pouvez également faire une recherche pour trouver les plus proches de chez vous !
      </p>
    </section>
  </div>

  <!--
  {userMessage &&
    <div>
      <p class="font-grands font-base text-accents1 text-center">{userMessage}</p>
    </div>
  }
  -->

  @if(filteredShelterList.length > 0) {
    <div class="grid grid-cols-3 gap-3 m-3">
      @for(shelter of filteredShelterList; track $index) {
        <app-shelter-card [shelter]="shelter"></app-shelter-card>
      }
    </div>
  } @else {
    <h3 class="font-grands text-2xl w-full my-2 text-center">Aucun refuge ne correspond à votre recherche</h3>
  }
</main>
